# Reconstructed from:
# https://github.com/jordanlewis/pgjdbc/blob/462d505f01ec6180b30eaffabe51839dd126b90c/pgjdbc/src/main/java/org/postgresql/jdbc/PgDatabaseMetaData.java#L2391-L2408
opt
SELECT
    NULL AS type_cat,
    n.nspname AS type_schem,
    t.typname AS type_name,
    NULL AS class_name,
    CASE
    WHEN t.typtype = 'c' THEN 'STRUCT'
    ELSE 'DISTINCT'
    END
        AS data_type,
    pg_catalog.obj_description(t.oid, 'pg_type') AS remarks,
    CASE
    WHEN t.typtype = 'd'
    THEN (
        SELECT
            CASE
            WHEN typname = 'pgType' THEN 'sqlType'
            ELSE 'OTHER'
            END
        FROM
            pg_catalog.pg_type
        WHERE
            oid = t.typbasetype
    )
    ELSE NULL
    END
        AS base_type
FROM
    pg_catalog.pg_type AS t, pg_catalog.pg_namespace AS n
WHERE
    t.typnamespace = n.oid AND n.nspname != 'pg_catalog';
----
project
 ├── columns: type_cat:71 type_schem:35!null type_name:3!null class_name:71 data_type:72 remarks:130 base_type:131
 ├── immutable
 ├── fd: ()-->(71)
 ├── ensure-distinct-on
 │    ├── columns: t.typname:3!null t.typtype:8 nspname:35!null case:70 description:87 rownum:132!null
 │    ├── grouping columns: rownum:132!null
 │    ├── error: "more than one row returned by a subquery used as an expression"
 │    ├── immutable
 │    ├── key: (132)
 │    ├── fd: (132)-->(3,8,35,70,87)
 │    ├── left-join (hash)
 │    │    ├── columns: t.typname:3!null t.typtype:8 t.typbasetype:26 nspname:35!null pg_catalog.pg_type.oid:39 case:70 description:87 rownum:132!null
 │    │    ├── immutable
 │    │    ├── fd: (132)-->(3,8,26,35,87)
 │    │    ├── distinct-on
 │    │    │    ├── columns: t.typname:3!null t.typtype:8 t.typbasetype:26 nspname:35!null description:87 rownum:132!null
 │    │    │    ├── grouping columns: rownum:132!null
 │    │    │    ├── immutable
 │    │    │    ├── key: (132)
 │    │    │    ├── fd: (132)-->(3,8,26,35,87)
 │    │    │    ├── left-join-apply
 │    │    │    │    ├── columns: t.oid:2!null t.typname:3!null t.typnamespace:4!null t.typtype:8 t.typbasetype:26 n.oid:34!null nspname:35!null classoid:85 description:87 c.oid:89 relname:90 relnamespace:91 n.oid:126 nspname:127 rownum:132!null
 │    │    │    │    ├── immutable
 │    │    │    │    ├── fd: (132)-->(2-4,8,26,34,35), (4)==(34), (34)==(4), (85)==(89), (89)==(85), (91)==(126), (126)==(91)
 │    │    │    │    ├── ordinality
 │    │    │    │    │    ├── columns: t.oid:2!null t.typname:3!null t.typnamespace:4!null t.typtype:8 t.typbasetype:26 n.oid:34!null nspname:35!null rownum:132!null
 │    │    │    │    │    ├── key: (132)
 │    │    │    │    │    ├── fd: (132)-->(2-4,8,26,34,35), (4)==(34), (34)==(4)
 │    │    │    │    │    └── inner-join (hash)
 │    │    │    │    │         ├── columns: t.oid:2!null t.typname:3!null t.typnamespace:4!null t.typtype:8 t.typbasetype:26 n.oid:34!null nspname:35!null
 │    │    │    │    │         ├── fd: (4)==(34), (34)==(4)
 │    │    │    │    │         ├── scan pg_type [as=t]
 │    │    │    │    │         │    └── columns: t.oid:2!null t.typname:3!null t.typnamespace:4 t.typtype:8 t.typbasetype:26
 │    │    │    │    │         ├── select
 │    │    │    │    │         │    ├── columns: n.oid:34 nspname:35!null
 │    │    │    │    │         │    ├── scan pg_namespace [as=n]
 │    │    │    │    │         │    │    └── columns: n.oid:34 nspname:35!null
 │    │    │    │    │         │    └── filters
 │    │    │    │    │         │         └── nspname:35 != 'pg_catalog' [outer=(35), constraints=(/35: (/NULL - /'pg_catalog') [/e'pg_catalog\x00' - ]; tight)]
 │    │    │    │    │         └── filters
 │    │    │    │    │              └── t.typnamespace:4 = n.oid:34 [outer=(4,34), constraints=(/4: (/NULL - ]; /34: (/NULL - ]), fd=(4)==(34), (34)==(4)]
 │    │    │    │    ├── inner-join (hash)
 │    │    │    │    │    ├── columns: classoid:85!null description:87!null c.oid:89!null relname:90!null relnamespace:91!null n.oid:126!null nspname:127!null
 │    │    │    │    │    ├── outer: (2)
 │    │    │    │    │    ├── immutable
 │    │    │    │    │    ├── fd: ()-->(90,127), (85)==(89), (89)==(85), (91)==(126), (126)==(91)
 │    │    │    │    │    ├── union-all
 │    │    │    │    │    │    ├── columns: classoid:85!null description:87!null
 │    │    │    │    │    │    ├── left columns: crdb_internal.kv_catalog_comments.classoid:74 crdb_internal.kv_catalog_comments.description:77
 │    │    │    │    │    │    ├── right columns: classoid:81 crdb_internal.kv_builtin_function_comments.description:80
 │    │    │    │    │    │    ├── outer: (2)
 │    │    │    │    │    │    ├── immutable
 │    │    │    │    │    │    ├── project
 │    │    │    │    │    │    │    ├── columns: crdb_internal.kv_catalog_comments.classoid:74!null crdb_internal.kv_catalog_comments.description:77!null
 │    │    │    │    │    │    │    ├── outer: (2)
 │    │    │    │    │    │    │    ├── immutable
 │    │    │    │    │    │    │    └── select
 │    │    │    │    │    │    │         ├── columns: crdb_internal.kv_catalog_comments.classoid:74!null crdb_internal.kv_catalog_comments.description:77!null objsubid:83!null
 │    │    │    │    │    │    │         ├── outer: (2)
 │    │    │    │    │    │    │         ├── immutable
 │    │    │    │    │    │    │         ├── fd: ()-->(83)
 │    │    │    │    │    │    │         ├── project
 │    │    │    │    │    │    │         │    ├── columns: objsubid:83!null crdb_internal.kv_catalog_comments.classoid:74!null crdb_internal.kv_catalog_comments.description:77!null
 │    │    │    │    │    │    │         │    ├── outer: (2)
 │    │    │    │    │    │    │         │    ├── immutable
 │    │    │    │    │    │    │         │    ├── select
 │    │    │    │    │    │    │         │    │    ├── columns: crdb_internal.kv_catalog_comments.classoid:74!null crdb_internal.kv_catalog_comments.objoid:75!null crdb_internal.kv_catalog_comments.objsubid:76!null crdb_internal.kv_catalog_comments.description:77!null
 │    │    │    │    │    │    │         │    │    ├── outer: (2)
 │    │    │    │    │    │    │         │    │    ├── fd: ()-->(75)
 │    │    │    │    │    │    │         │    │    ├── scan kv_catalog_comments
 │    │    │    │    │    │    │         │    │    │    └── columns: crdb_internal.kv_catalog_comments.classoid:74!null crdb_internal.kv_catalog_comments.objoid:75!null crdb_internal.kv_catalog_comments.objsubid:76!null crdb_internal.kv_catalog_comments.description:77!null
 │    │    │    │    │    │    │         │    │    └── filters
 │    │    │    │    │    │    │         │    │         ├── crdb_internal.kv_catalog_comments.classoid:74 != 4294967075 [outer=(74), constraints=(/74: (/NULL - /4294967074] [/4294967076 - ]; tight)]
 │    │    │    │    │    │    │         │    │         └── crdb_internal.kv_catalog_comments.objoid:75 = t.oid:2 [outer=(2,75), constraints=(/2: (/NULL - ]; /75: (/NULL - ]), fd=(2)==(75), (75)==(2)]
 │    │    │    │    │    │    │         │    └── projections
 │    │    │    │    │    │    │         │         └── crdb_internal.kv_catalog_comments.objsubid:76::INT8 [as=objsubid:83, outer=(76), immutable]
 │    │    │    │    │    │    │         └── filters
 │    │    │    │    │    │    │              └── objsubid:83 = 0 [outer=(83), constraints=(/83: [/0 - /0]; tight), fd=()-->(83)]
 │    │    │    │    │    │    └── project
 │    │    │    │    │    │         ├── columns: classoid:81!null crdb_internal.kv_builtin_function_comments.description:80!null
 │    │    │    │    │    │         ├── outer: (2)
 │    │    │    │    │    │         ├── fd: ()-->(81)
 │    │    │    │    │    │         ├── select
 │    │    │    │    │    │         │    ├── columns: crdb_internal.kv_builtin_function_comments.oid:79!null crdb_internal.kv_builtin_function_comments.description:80!null
 │    │    │    │    │    │         │    ├── outer: (2)
 │    │    │    │    │    │         │    ├── fd: ()-->(79)
 │    │    │    │    │    │         │    ├── scan kv_builtin_function_comments
 │    │    │    │    │    │         │    │    └── columns: crdb_internal.kv_builtin_function_comments.oid:79!null crdb_internal.kv_builtin_function_comments.description:80!null
 │    │    │    │    │    │         │    └── filters
 │    │    │    │    │    │         │         └── crdb_internal.kv_builtin_function_comments.oid:79 = t.oid:2 [outer=(2,79), constraints=(/2: (/NULL - ]; /79: (/NULL - ]), fd=(2)==(79), (79)==(2)]
 │    │    │    │    │    │         └── projections
 │    │    │    │    │    │              └── 4294967043 [as=classoid:81]
 │    │    │    │    │    ├── inner-join (hash)
 │    │    │    │    │    │    ├── columns: c.oid:89!null relname:90!null relnamespace:91!null n.oid:126!null nspname:127!null
 │    │    │    │    │    │    ├── fd: ()-->(90,127), (91)==(126), (126)==(91)
 │    │    │    │    │    │    ├── select
 │    │    │    │    │    │    │    ├── columns: c.oid:89!null relname:90!null relnamespace:91
 │    │    │    │    │    │    │    ├── fd: ()-->(90)
 │    │    │    │    │    │    │    ├── scan pg_class [as=c]
 │    │    │    │    │    │    │    │    └── columns: c.oid:89!null relname:90!null relnamespace:91
 │    │    │    │    │    │    │    └── filters
 │    │    │    │    │    │    │         └── relname:90 = 'pg_type' [outer=(90), constraints=(/90: [/'pg_type' - /'pg_type']; tight), fd=()-->(90)]
 │    │    │    │    │    │    ├── select
 │    │    │    │    │    │    │    ├── columns: n.oid:126 nspname:127!null
 │    │    │    │    │    │    │    ├── fd: ()-->(127)
 │    │    │    │    │    │    │    ├── scan pg_namespace [as=n]
 │    │    │    │    │    │    │    │    └── columns: n.oid:126 nspname:127!null
 │    │    │    │    │    │    │    └── filters
 │    │    │    │    │    │    │         └── nspname:127 = 'pg_catalog' [outer=(127), constraints=(/127: [/'pg_catalog' - /'pg_catalog']; tight), fd=()-->(127)]
 │    │    │    │    │    │    └── filters
 │    │    │    │    │    │         └── relnamespace:91 = n.oid:126 [outer=(91,126), constraints=(/91: (/NULL - ]; /126: (/NULL - ]), fd=(91)==(126), (126)==(91)]
 │    │    │    │    │    └── filters
 │    │    │    │    │         └── classoid:85 = c.oid:89 [outer=(85,89), constraints=(/85: (/NULL - ]; /89: (/NULL - ]), fd=(85)==(89), (89)==(85)]
 │    │    │    │    └── filters (true)
 │    │    │    └── aggregations
 │    │    │         ├── const-agg [as=t.typname:3, outer=(3)]
 │    │    │         │    └── t.typname:3
 │    │    │         ├── const-agg [as=t.typtype:8, outer=(8)]
 │    │    │         │    └── t.typtype:8
 │    │    │         ├── const-agg [as=t.typbasetype:26, outer=(26)]
 │    │    │         │    └── t.typbasetype:26
 │    │    │         ├── const-agg [as=nspname:35, outer=(35)]
 │    │    │         │    └── nspname:35
 │    │    │         └── first-agg [as=description:87, outer=(87)]
 │    │    │              └── description:87
 │    │    ├── project
 │    │    │    ├── columns: case:70!null pg_catalog.pg_type.oid:39!null
 │    │    │    ├── scan pg_type
 │    │    │    │    └── columns: pg_catalog.pg_type.oid:39!null pg_catalog.pg_type.typname:40!null
 │    │    │    └── projections
 │    │    │         └── CASE WHEN pg_catalog.pg_type.typname:40 = 'pgType' THEN 'sqlType' ELSE 'OTHER' END [as=case:70, outer=(40)]
 │    │    └── filters
 │    │         └── pg_catalog.pg_type.oid:39 = t.typbasetype:26 [outer=(26,39), constraints=(/26: (/NULL - ]; /39: (/NULL - ]), fd=(26)==(39), (39)==(26)]
 │    └── aggregations
 │         ├── const-agg [as=t.typname:3, outer=(3)]
 │         │    └── t.typname:3
 │         ├── const-agg [as=t.typtype:8, outer=(8)]
 │         │    └── t.typtype:8
 │         ├── const-agg [as=nspname:35, outer=(35)]
 │         │    └── nspname:35
 │         ├── const-agg [as=case:70, outer=(70)]
 │         │    └── case:70
 │         └── const-agg [as=description:87, outer=(87)]
 │              └── description:87
 └── projections
      ├── NULL [as=type_cat:71]
      ├── CASE WHEN t.typtype:8 = 'c' THEN 'STRUCT' ELSE 'DISTINCT' END [as=data_type:72, outer=(8)]
      ├── description:87 [as=remarks:130, outer=(87)]
      └── CASE WHEN t.typtype:8 = 'd' THEN case:70 ELSE CAST(NULL AS STRING) END [as=base_type:131, outer=(8,70)]


# Regression test for #55140. Avoid lookup joins for virtual tables.
opt
SELECT
  *
FROM
  (
    SELECT
      n.nspname,
      c.relname,
      a.attname,
      a.atttypid,
      a.attnotnull
      OR ((t.typtype = 'd') AND t.typnotnull)
        AS attnotnull,
      a.atttypmod,
      a.attlen,
      t.typtypmod,
      row_number() OVER (
        PARTITION BY a.attrelid ORDER BY a.attnum
      )
        AS attnum,
      NULL AS attidentity,
      pg_get_expr(def.adbin, def.adrelid) AS adsrc,
      dsc.description,
      t.typbasetype,
      t.typtype
    FROM
      pg_catalog.pg_namespace AS n
      JOIN pg_catalog.pg_class AS c ON (c.relnamespace = n.oid)
      JOIN pg_catalog.pg_attribute AS a ON (a.attrelid = c.oid)
      JOIN pg_catalog.pg_type AS t ON (a.atttypid = t.oid)
      LEFT JOIN pg_catalog.pg_attrdef AS def ON
          (
            (a.attrelid = def.adrelid)
            AND (a.attnum = def.adnum)
          )
      LEFT JOIN pg_catalog.pg_description AS dsc ON
          ((c.oid = dsc.objoid) AND (a.attnum = dsc.objsubid))
      LEFT JOIN pg_catalog.pg_class AS dc ON
          (
            (dc.oid = dsc.classoid)
            AND (dc.relname = 'pg_class')
          )
      LEFT JOIN pg_catalog.pg_namespace AS dn ON
          (
            (dc.relnamespace = dn.oid)
            AND (dn.nspname = 'pg_catalog')
          )
    WHERE
      (
        (
          (
            (c.relkind IN ('r', 'p', 'v', 'f', 'm'))
            AND (a.attnum > 0)
          )
          AND (NOT a.attisdropped)
        )
        AND (n.nspname LIKE 'public')
      )
      AND (c.relname LIKE '%')
  )
    AS c
WHERE
  true AND (attname LIKE '%')
ORDER BY
  nspname, c.relname, attnum;
----
sort
 ├── columns: nspname:3!null relname:8!null attname:45!null atttypid:46!null attnotnull:166 atttypmod:52 attlen:48 typtypmod:96 attnum:165 attidentity:167 adsrc:168 description:122 typbasetype:95 typtype:77
 ├── stable
 ├── fd: ()-->(3,167)
 ├── ordering: +8,+165 opt(3,167) [actual: +8,+165]
 └── project
      ├── columns: attnotnull:166 attidentity:167 adsrc:168 n.nspname:3!null c.relname:8!null attname:45!null atttypid:46!null attlen:48 atttypmod:52 typtype:77 typbasetype:95 typtypmod:96 description:122 row_number:165
      ├── stable
      ├── fd: ()-->(3,167)
      ├── select
      │    ├── columns: n.nspname:3!null c.relname:8!null attrelid:44!null attname:45!null atttypid:46!null attlen:48 attnum:49!null atttypmod:52 a.attnotnull:56 typtype:77 typnotnull:94 typbasetype:95 typtypmod:96 adrelid:104 adbin:106 description:122 row_number:165
      │    ├── immutable
      │    ├── fd: ()-->(3)
      │    ├── window partition=(44) ordering=+49 opt(3,7,44,60)
      │    │    ├── columns: n.nspname:3!null c.relname:8!null attrelid:44!null attname:45 atttypid:46!null attlen:48 attnum:49!null atttypmod:52 a.attnotnull:56 typtype:77 typnotnull:94 typbasetype:95 typtypmod:96 adrelid:104 adbin:106 description:122 row_number:165
      │    │    ├── immutable
      │    │    ├── fd: ()-->(3)
      │    │    ├── project
      │    │    │    ├── columns: description:122 n.nspname:3!null c.relname:8!null attrelid:44!null attname:45 atttypid:46!null attlen:48 attnum:49!null atttypmod:52 a.attnotnull:56 typtype:77 typnotnull:94 typbasetype:95 typtypmod:96 adrelid:104 adbin:106
      │    │    │    ├── immutable
      │    │    │    ├── fd: ()-->(3)
      │    │    │    ├── inner-join (hash)
      │    │    │    │    ├── columns: n.oid:2!null n.nspname:3!null c.oid:7!null c.relname:8!null c.relnamespace:9!null c.relkind:24!null attrelid:44!null attname:45 atttypid:46!null attlen:48 attnum:49!null atttypmod:52 a.attnotnull:56 attisdropped:60!null t.oid:71!null typtype:77 typnotnull:94 typbasetype:95 typtypmod:96 adrelid:104 adnum:105 adbin:106 crdb_internal.kv_catalog_comments.classoid:109 crdb_internal.kv_catalog_comments.objoid:110 crdb_internal.kv_catalog_comments.description:112 objsubid:118 dc.oid:124 dc.relname:125 dc.relnamespace:126 dn.oid:161 dn.nspname:162
      │    │    │    │    ├── immutable
      │    │    │    │    ├── fd: ()-->(3,60), (2)==(9), (9)==(2), (7)==(44), (44)==(7), (46)==(71), (71)==(46)
      │    │    │    │    ├── scan pg_type [as=t]
      │    │    │    │    │    └── columns: t.oid:71!null typtype:77 typnotnull:94 typbasetype:95 typtypmod:96
      │    │    │    │    ├── left-join (hash)
      │    │    │    │    │    ├── columns: n.oid:2!null n.nspname:3!null c.oid:7!null c.relname:8!null c.relnamespace:9!null c.relkind:24!null attrelid:44!null attname:45 atttypid:46 attlen:48 attnum:49!null atttypmod:52 a.attnotnull:56 attisdropped:60!null adrelid:104 adnum:105 adbin:106 crdb_internal.kv_catalog_comments.classoid:109 crdb_internal.kv_catalog_comments.objoid:110 crdb_internal.kv_catalog_comments.description:112 objsubid:118 dc.oid:124 dc.relname:125 dc.relnamespace:126 dn.oid:161 dn.nspname:162
      │    │    │    │    │    ├── immutable
      │    │    │    │    │    ├── fd: ()-->(3,60), (7)==(44), (44)==(7), (2)==(9), (9)==(2)
      │    │    │    │    │    ├── right-join (hash)
      │    │    │    │    │    │    ├── columns: n.oid:2!null n.nspname:3!null c.oid:7!null c.relname:8!null c.relnamespace:9!null c.relkind:24!null attrelid:44!null attname:45 atttypid:46 attlen:48 attnum:49!null atttypmod:52 a.attnotnull:56 attisdropped:60!null adrelid:104 adnum:105 adbin:106 crdb_internal.kv_catalog_comments.classoid:109 crdb_internal.kv_catalog_comments.objoid:110 crdb_internal.kv_catalog_comments.description:112 objsubid:118
      │    │    │    │    │    │    ├── immutable
      │    │    │    │    │    │    ├── fd: ()-->(3,60), (7)==(44), (44)==(7), (2)==(9), (9)==(2)
      │    │    │    │    │    │    ├── select
      │    │    │    │    │    │    │    ├── columns: adrelid:104!null adnum:105!null adbin:106
      │    │    │    │    │    │    │    ├── scan pg_attrdef [as=def]
      │    │    │    │    │    │    │    │    └── columns: adrelid:104!null adnum:105 adbin:106
      │    │    │    │    │    │    │    └── filters
      │    │    │    │    │    │    │         └── adnum:105 > 0 [outer=(105), constraints=(/105: [/1 - ]; tight)]
      │    │    │    │    │    │    ├── right-join (hash)
      │    │    │    │    │    │    │    ├── columns: n.oid:2!null n.nspname:3!null c.oid:7!null c.relname:8!null c.relnamespace:9!null c.relkind:24!null attrelid:44!null attname:45 atttypid:46 attlen:48 attnum:49!null atttypmod:52 a.attnotnull:56 attisdropped:60!null crdb_internal.kv_catalog_comments.classoid:109 crdb_internal.kv_catalog_comments.objoid:110 crdb_internal.kv_catalog_comments.description:112 objsubid:118
      │    │    │    │    │    │    │    ├── immutable
      │    │    │    │    │    │    │    ├── fd: ()-->(3,60), (7)==(44), (44)==(7), (2)==(9), (9)==(2)
      │    │    │    │    │    │    │    ├── select
      │    │    │    │    │    │    │    │    ├── columns: crdb_internal.kv_catalog_comments.classoid:109!null crdb_internal.kv_catalog_comments.objoid:110!null crdb_internal.kv_catalog_comments.description:112!null objsubid:118!null
      │    │    │    │    │    │    │    │    ├── immutable
      │    │    │    │    │    │    │    │    ├── project
      │    │    │    │    │    │    │    │    │    ├── columns: objsubid:118!null crdb_internal.kv_catalog_comments.classoid:109!null crdb_internal.kv_catalog_comments.objoid:110!null crdb_internal.kv_catalog_comments.description:112!null
      │    │    │    │    │    │    │    │    │    ├── immutable
      │    │    │    │    │    │    │    │    │    ├── select
      │    │    │    │    │    │    │    │    │    │    ├── columns: crdb_internal.kv_catalog_comments.classoid:109!null crdb_internal.kv_catalog_comments.objoid:110!null crdb_internal.kv_catalog_comments.objsubid:111!null crdb_internal.kv_catalog_comments.description:112!null
      │    │    │    │    │    │    │    │    │    │    ├── scan kv_catalog_comments
      │    │    │    │    │    │    │    │    │    │    │    └── columns: crdb_internal.kv_catalog_comments.classoid:109!null crdb_internal.kv_catalog_comments.objoid:110!null crdb_internal.kv_catalog_comments.objsubid:111!null crdb_internal.kv_catalog_comments.description:112!null
      │    │    │    │    │    │    │    │    │    │    └── filters
      │    │    │    │    │    │    │    │    │    │         └── crdb_internal.kv_catalog_comments.classoid:109 != 4294967075 [outer=(109), constraints=(/109: (/NULL - /4294967074] [/4294967076 - ]; tight)]
      │    │    │    │    │    │    │    │    │    └── projections
      │    │    │    │    │    │    │    │    │         └── crdb_internal.kv_catalog_comments.objsubid:111::INT8 [as=objsubid:118, outer=(111), immutable]
      │    │    │    │    │    │    │    │    └── filters
      │    │    │    │    │    │    │    │         └── objsubid:118 > 0 [outer=(118), constraints=(/118: [/1 - ]; tight)]
      │    │    │    │    │    │    │    ├── inner-join (hash)
      │    │    │    │    │    │    │    │    ├── columns: n.oid:2!null n.nspname:3!null c.oid:7!null c.relname:8!null c.relnamespace:9!null c.relkind:24!null attrelid:44!null attname:45 atttypid:46 attlen:48 attnum:49!null atttypmod:52 a.attnotnull:56 attisdropped:60!null
      │    │    │    │    │    │    │    │    ├── fd: ()-->(3,60), (2)==(9), (9)==(2), (7)==(44), (44)==(7)
      │    │    │    │    │    │    │    │    ├── select
      │    │    │    │    │    │    │    │    │    ├── columns: attrelid:44!null attname:45 atttypid:46 attlen:48 attnum:49!null atttypmod:52 a.attnotnull:56 attisdropped:60!null
      │    │    │    │    │    │    │    │    │    ├── fd: ()-->(60)
      │    │    │    │    │    │    │    │    │    ├── scan pg_attribute [as=a]
      │    │    │    │    │    │    │    │    │    │    └── columns: attrelid:44!null attname:45 atttypid:46 attlen:48 attnum:49 atttypmod:52 a.attnotnull:56 attisdropped:60
      │    │    │    │    │    │    │    │    │    └── filters
      │    │    │    │    │    │    │    │    │         ├── attnum:49 > 0 [outer=(49), constraints=(/49: [/1 - ]; tight)]
      │    │    │    │    │    │    │    │    │         └── NOT attisdropped:60 [outer=(60), constraints=(/60: [/false - /false]; tight), fd=()-->(60)]
      │    │    │    │    │    │    │    │    ├── inner-join (hash)
      │    │    │    │    │    │    │    │    │    ├── columns: n.oid:2!null n.nspname:3!null c.oid:7!null c.relname:8!null c.relnamespace:9!null c.relkind:24!null
      │    │    │    │    │    │    │    │    │    ├── fd: ()-->(3), (2)==(9), (9)==(2)
      │    │    │    │    │    │    │    │    │    ├── select
      │    │    │    │    │    │    │    │    │    │    ├── columns: c.oid:7!null c.relname:8!null c.relnamespace:9 c.relkind:24!null
      │    │    │    │    │    │    │    │    │    │    ├── scan pg_class [as=c]
      │    │    │    │    │    │    │    │    │    │    │    └── columns: c.oid:7!null c.relname:8!null c.relnamespace:9 c.relkind:24
      │    │    │    │    │    │    │    │    │    │    └── filters
      │    │    │    │    │    │    │    │    │    │         └── c.relkind:24 IN ('f', 'm', 'p', 'r', 'v') [outer=(24), constraints=(/24: [/'f' - /'f'] [/'m' - /'m'] [/'p' - /'p'] [/'r' - /'r'] [/'v' - /'v']; tight)]
      │    │    │    │    │    │    │    │    │    ├── select
      │    │    │    │    │    │    │    │    │    │    ├── columns: n.oid:2 n.nspname:3!null
      │    │    │    │    │    │    │    │    │    │    ├── fd: ()-->(3)
      │    │    │    │    │    │    │    │    │    │    ├── scan pg_namespace [as=n]
      │    │    │    │    │    │    │    │    │    │    │    └── columns: n.oid:2 n.nspname:3!null
      │    │    │    │    │    │    │    │    │    │    └── filters
      │    │    │    │    │    │    │    │    │    │         └── n.nspname:3 LIKE 'public' [outer=(3), constraints=(/3: [/'public' - /'public']; tight), fd=()-->(3)]
      │    │    │    │    │    │    │    │    │    └── filters
      │    │    │    │    │    │    │    │    │         └── c.relnamespace:9 = n.oid:2 [outer=(2,9), constraints=(/2: (/NULL - ]; /9: (/NULL - ]), fd=(2)==(9), (9)==(2)]
      │    │    │    │    │    │    │    │    └── filters
      │    │    │    │    │    │    │    │         └── attrelid:44 = c.oid:7 [outer=(7,44), constraints=(/7: (/NULL - ]; /44: (/NULL - ]), fd=(7)==(44), (44)==(7)]
      │    │    │    │    │    │    │    └── filters
      │    │    │    │    │    │    │         ├── c.oid:7 = crdb_internal.kv_catalog_comments.objoid:110 [outer=(7,110), constraints=(/7: (/NULL - ]; /110: (/NULL - ]), fd=(7)==(110), (110)==(7)]
      │    │    │    │    │    │    │         └── attnum:49 = objsubid:118 [outer=(49,118), constraints=(/49: (/NULL - ]; /118: (/NULL - ]), fd=(49)==(118), (118)==(49)]
      │    │    │    │    │    │    └── filters
      │    │    │    │    │    │         ├── attrelid:44 = adrelid:104 [outer=(44,104), constraints=(/44: (/NULL - ]; /104: (/NULL - ]), fd=(44)==(104), (104)==(44)]
      │    │    │    │    │    │         └── attnum:49 = adnum:105 [outer=(49,105), constraints=(/49: (/NULL - ]; /105: (/NULL - ]), fd=(49)==(105), (105)==(49)]
      │    │    │    │    │    ├── left-join (hash)
      │    │    │    │    │    │    ├── columns: dc.oid:124!null dc.relname:125!null dc.relnamespace:126 dn.oid:161 dn.nspname:162
      │    │    │    │    │    │    ├── fd: ()-->(125)
      │    │    │    │    │    │    ├── select
      │    │    │    │    │    │    │    ├── columns: dc.oid:124!null dc.relname:125!null dc.relnamespace:126
      │    │    │    │    │    │    │    ├── fd: ()-->(125)
      │    │    │    │    │    │    │    ├── scan pg_class [as=dc]
      │    │    │    │    │    │    │    │    └── columns: dc.oid:124!null dc.relname:125!null dc.relnamespace:126
      │    │    │    │    │    │    │    └── filters
      │    │    │    │    │    │    │         └── dc.relname:125 = 'pg_class' [outer=(125), constraints=(/125: [/'pg_class' - /'pg_class']; tight), fd=()-->(125)]
      │    │    │    │    │    │    ├── select
      │    │    │    │    │    │    │    ├── columns: dn.oid:161 dn.nspname:162!null
      │    │    │    │    │    │    │    ├── fd: ()-->(162)
      │    │    │    │    │    │    │    ├── scan pg_namespace [as=dn]
      │    │    │    │    │    │    │    │    └── columns: dn.oid:161 dn.nspname:162!null
      │    │    │    │    │    │    │    └── filters
      │    │    │    │    │    │    │         └── dn.nspname:162 = 'pg_catalog' [outer=(162), constraints=(/162: [/'pg_catalog' - /'pg_catalog']; tight), fd=()-->(162)]
      │    │    │    │    │    │    └── filters
      │    │    │    │    │    │         └── dc.relnamespace:126 = dn.oid:161 [outer=(126,161), constraints=(/126: (/NULL - ]; /161: (/NULL - ]), fd=(126)==(161), (161)==(126)]
      │    │    │    │    │    └── filters
      │    │    │    │    │         └── dc.oid:124 = crdb_internal.kv_catalog_comments.classoid:109 [outer=(109,124), constraints=(/109: (/NULL - ]; /124: (/NULL - ]), fd=(109)==(124), (124)==(109)]
      │    │    │    │    └── filters
      │    │    │    │         └── atttypid:46 = t.oid:71 [outer=(46,71), constraints=(/46: (/NULL - ]; /71: (/NULL - ]), fd=(46)==(71), (71)==(46)]
      │    │    │    └── projections
      │    │    │         └── crdb_internal.kv_catalog_comments.description:112 [as=description:122, outer=(112)]
      │    │    └── windows
      │    │         └── row-number [as=row_number:165]
      │    └── filters
      │         └── attname:45 IS NOT NULL [outer=(45), constraints=(/45: (/NULL - ]; tight)]
      └── projections
           ├── a.attnotnull:56 OR ((typtype:77 = 'd') AND typnotnull:94) [as=attnotnull:166, outer=(56,77,94)]
           ├── NULL [as=attidentity:167]
           └── pg_get_expr(adbin:106, adrelid:104) [as=adsrc:168, outer=(104,106), stable]
